{% load i18n %}

<div class="filters-toggler container py-0">
    <h2 class="underlined long mb-0">
        {% trans "Filtri di ricerca" %}
    </h2>
    <div class="triangle"></div>
</div>
<div class="filters">
    <div class="container">
        <form class="text-center" action="{% url "investments" %}#results" method="GET">
            <div class="row">
                <div class="col-12 col-lg-4 category">
                    <h3>{% trans "Tipologia" %}</h3>
                    <div class="btn-group-toggle" data-toggle="buttons">
                        {% for filter in view.get_category_filter %}
                            <label class="btn btn-filter btn-lg text-uppercase {% if filter.selected %}active{% endif %}">
                                <input name="category" type="checkbox" 
                                    value="{{ filter.value }}" {% if filter.selected %}checked{% endif %} />{{ filter.title }}
                            </label>
                        {% endfor %}
                    </div>
                </div>

                <div class="col-12 col-lg-4 country">
                    <h3>{% trans "Paese" %}</h3>
                    <button id="enable-all-countries" class="btn btn-grey btn-sm">{% trans "Abilita tutti"%}</button>
                    <button id="disable-all-countries" class="btn btn-grey btn-sm">{% trans "Disabilita tutti"%}</button>
                    <div class="btn-group-toggle" data-toggle="buttons">
                        {% for filter in view.get_country_filter %}
                            <label class="btn btn-filter btn-sm text-uppercase {% if filter.selected %}active{% endif %}">
                                <input name="country" type="checkbox" 
                                    value="{{ filter.value }}" {% if filter.selected %}checked{% endif %} />{{ filter.title }}
                            </label>
                        {% endfor %}
                    </div>
                </div>
    
                <div class="col-12 col-lg-4 price" data-toggle="buttons">
                    <h3>{% trans "Prezzo" %}</h3>
                    <label>{% trans "Da" %}:
                        <input class="data-hj-whitelist" type="text" name="min_price" value="{{ view.min_price|default:'' }}" />
                    </label>
                    <label>&nbsp;{% trans "A" %}:
                        <input class="data-hj-whitelist" type="text" name="max_price" value="{{ view.max_price|default:'' }}" />
                    </label>
                    <!--label>{% trans "Valuta" %}:
                        <input type="select" name="valuta" value="{{ view.get_currency_filter }}" />
                    </label-->
                </div>
            </div>
            <div class="mt-5">
                <input class="btn btn-lg px-5 btn-secondary btn-submit" type="submit" value="{% trans 'Filtra' %}" />
            </div>
        </form>
    </div>
    <div class="triangle-grey"></div>
</div>